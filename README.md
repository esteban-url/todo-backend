# todo-backend

This is a very simple REST API for a To Do list, it supports multiple tenants and multiple lists per tenant.

working demo: https://multi-tenant-todo.herokuapp.com/

## API

### `GET`

- `/` : returns an array with all todos by all tenants
- `/:id` : returns a single todo
- `/t/:tenant/` : returns an array with all todos for a specific tenant
- `/t/:tenant/:list` : returns an array with all todos for a specitic list and a specific tenant

**Example**

This is what the data returned might look like:

```[
  {
    id: 27,
    createdAt: "2020-10-27T03:13:36.845Z",
    tenant: "esteban",
    title: "take out the trash",
    list: "main",
    completed: false,
  },
  {
    id: 29,
    createdAt: "2020-10-27T03:13:01.945Z",
    tenant: "esteban",
    title: "go for a run",
    list: "main",
    completed: true,
  },
  {
    id: 37,
    createdAt: "2020-10-27T03:17:26.125Z",
    tenant: "esteban",
    title: "share the API",
    list: "work",
    completed: false,
  },
]
```

### `POST`

- `/` : creates a new todo
  - if no tenant is specified it will defaul to `anonymous`
  - if no list is specified it will default to `main`
  - all todos will have the `completed` property set to false by default

You don need to provie the `id` or `createdAt` properties, those values will be autogenerated

**Example**

This is what the payload might look like

```
{
    "title": "share the API",
    "tenant":"esteban",
    "list":"work"
}
```

### `PATCH` && `PUT`

- `/:id` : update a todo

**Example**

This is what the payload might look like

```
{
    completed: true
}
```

```
{
    "title": "go get a beer",
    "tenant":"esteban",
    "list":"main"
}
```

### `DELETE`

- `/:id` : deletes a single todo
- `/t/:tenant/` : deletes all todos for a specific tenant
- `/t/:tenant/:list` : deletes all todos for a specitic list
